(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{11184:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(37876),n=s(14924),a=s(44810),i=s(71733),l=s(44725),o=s(88787),c=s(14232);let d=e=>{let[t,s]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let s=setTimeout(()=>{null!==t&&e.onChange(t)},500);return()=>clearTimeout(s)},[t]),(0,r.jsxs)(n.A,{variant:"outlined",sx:e=>({padding:"0px 2px",display:"flex",alignItems:"center",marginBottom:e.spacing(1)}),children:[(0,r.jsx)(a.Ay,{onChange:e=>{s(e.target.value)},value:t||"",sx:e=>({marginLeft:e.spacing(3),flex:1}),placeholder:e.placeholder||"Search...",fullWidth:!0}),t?(0,r.jsx)(i.A,{"aria-label":"search",onClick:e=>s(""),size:"large",children:(0,r.jsx)(l.A,{})}):(0,r.jsx)(i.A,{"aria-label":"search",size:"large",children:(0,r.jsx)(o.A,{})})]})}},18702:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(37876),n=s(62034),a=s(92003),i=s(41316),l=s(14232),o=s(65422),c=s(48011),d=s(54343),u=s(11184),x=s(28986),h=s(52400);let m=e=>{let{user:t,type:s,path:m}=e,p=(0,l.useRef)(null),[g,j]=(0,l.useState)(null),[y,A]=(0,l.useState)(1),[b,v]=(0,l.useState)(null),[f,w]=(0,l.useState)(!0),[_,C]=(0,l.useState)(null),[S,k]=(0,l.useState)(e.sortBy||"recent"),B=(0,c.d4)(e=>e.user.token);async function P(){p.current=Date.now();let r=p.current,n={type:s,page:y,text:b,sortBy:S};t&&t._id&&(n["user._id"]=t._id),e.org&&e.org._id&&(n["org._id"]=e.org._id),e.team&&e.team._id&&(n["team._id"]=e.team._id);let{statusCode:a,json:i}=await (0,d.RA)("/api/posts/search",B,n);200===a?p.current==r&&(w(i.length>0),j((g||[]).concat(i)),C(null)):C("Operation timedout, please try again!")}async function N(e,t){if("deleted"===t)j(g.filter(t=>t._id!==e));else{let s=[...g];s.filter(t=>t._id===e)[0].visibility=t,j(s)}}(0,l.useEffect)(()=>{C(null),P()},[y,b,S]);let R=e=>{e!==S&&(j(null),A(1),k(e))};function T(e){return(0,r.jsx)(n.A,{component:"div",sx:e=>({marginLeft:e.spacing(6),marginTop:e.spacing(6)}),children:(0,r.jsx)(a.A,{variant:"body2",children:e.msg})})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(i.Ay,{item:!0,xs:12,md:5,children:(0,r.jsx)(u.A,{onChange:e=>{j(null),A(1),v(e||null)}})}),(0,r.jsx)(i.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(i.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(i.Ay,{item:!0,onClick:()=>R("recent"),children:(0,r.jsx)(a.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"recent"===S?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Recent"})}),(0,r.jsx)(i.Ay,{item:!0,onClick:()=>R("top"),children:(0,r.jsx)(a.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"top"===S?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Top"})})]})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),b||s?null!==g||_?g&&g.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"scrollableDiv",children:(0,r.jsx)(o.A,{dataLength:g.length,next:()=>A(y+1),hasMore:f,loader:(0,r.jsx)(T,{msg:"Loading more data... "}),endMessage:(0,r.jsx)(T,{msg:"You have reached the end."}),children:g.length>0&&g.map((e,t)=>(0,r.jsx)(h.A,{postObj:e,path:"code"!=s?m:"".concat(e.properties.language),handlePostVisibilityUpdate:N},e._id))})})}):(0,r.jsx)(x.A,{}):(0,r.jsx)(a.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),color:"primary",variant:"body1",children:"Start typing to search…"}),g&&0==g.length&&!_&&(0,r.jsx)(a.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:"Nothing found!"}),_&&(0,r.jsx)(a.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:_})]})}},38374:(e,t,s)=>{"use strict";s.d(t,{cN:()=>m,IG:()=>x,X3:()=>c});var r=s(37876),n=s(14232),a=s(49995),i=s(41316),l=s(92003),o=s(62034);let c=e=>{let{title:t,titleVariant:s="h4",subtitleVariant:n,subtitle:c,subtitleColor:d,label:u,overline:x,fadeUp:h,align:m,ctaGroup:p,disableGutter:g,titleClasses:j,className:y,labelProps:A={},titleProps:b={},subtitleProps:v={},titleStyles:f={},...w}=e,_="center";return"left"===m?_="flex-start":"right"===m&&(_="flex-end"),(0,r.jsxs)(i.Ay,{container:!0,spacing:2,"data-aos":h?"fade-up":"",className:(0,a.A)("section-header",y),sx:e=>({marginBottom:g?0:{xs:e.spacing(3),md:e.spacing(4)}}),...w,children:[x&&(0,r.jsx)(i.Ay,{item:!0,container:!0,justifyContent:_,xs:12,className:"section-header__overline-wrapper",children:x}),u&&(0,r.jsx)(i.Ay,{item:!0,xs:12,className:"section-header__label-wrapper",children:(0,r.jsx)(l.A,{variant:"overline",color:"primary",component:"p",align:m||"center",...A,children:u})}),(0,r.jsx)(i.Ay,{item:!0,xs:12,className:"section-header__title-wrapper",children:(0,r.jsx)(l.A,{variant:s,align:m||"center",className:(0,a.A)("section-header__title",j),color:"textPrimary",style:f||{},sx:{fontWeight:"bold"},...b,children:t})}),c&&(0,r.jsx)(i.Ay,{item:!0,xs:12,className:"section-header__subtitle-wrapper",children:(0,r.jsx)(l.A,{variant:n||"h6",align:m||"center",color:d||"textSecondary",className:"section-header__subtitle",...v,children:c})}),p&&p.length&&(0,r.jsx)(i.Ay,{item:!0,xs:12,className:"section-header__cta-wrapper",children:(0,r.jsx)(i.Ay,{container:!0,justifyContent:_,alignItems:"center",wrap:"nowrap",className:"section-header__cta-container",children:p.map((e,t)=>(0,r.jsx)(o.A,{className:(0,a.A)("section-header__cta-item-wrapper"),sx:{marginLeft:e=>t>0?e.spacing(1):0},children:e},t))})})]})};var d=s(14729),u=s(73390);let x=e=>{let{iconProps:t={},fontIconClass:s,size:n="medium",color:i,shape:l="square",iconComponent:o,iconComponentColor:c,className:x,src:h,...m}=e,p={extraSmall:{width:20,height:20},small:{width:50,height:50},medium:{width:70,height:70},large:{width:90,height:90}};return(0,r.jsx)(d.A,{className:(0,a.A)("icon-alternate",x),src:h,...m,sx:e=>({background:c||(null==i?void 0:i[300])||e.palette.background.default,...p[n]||{},borderRadius:"circle"===l?"50%":e.spacing(2)}),children:!h&&(o||(0,r.jsx)(u.In,{size:n,fontIconClass:s,fontIconColor:(null==i?void 0:i[500])||theme.palette.text.primary,className:"icon-alternate__icon",...t}))})};var h=s(23872);let m=e=>{let{start:t=0,end:s,suffix:i,prefix:o,label:c,textColor:d,labelColor:u,className:x,visibilitySensorProps:m={},wrapperProps:p={},countWrapperProps:g={},countNumberProps:j={},labelProps:y={},...A}=e,[b,v]=n.useState(!0);return(0,r.jsx)("div",{className:(0,a.A)("countup-number",x),...A,children:(0,r.jsxs)("div",{className:"countup-number__wrapper",...p,children:[(0,r.jsx)(l.A,{variant:"h4",gutterBottom:!0,align:"center",color:d||"textPrimary",className:"countup-number__count-wrapper",...g,children:(0,r.jsx)(h.Ay,{delay:0,redraw:!1,end:b?s:t,start:t,suffix:i||"",prefix:o||"",className:"countup-number__count",...j})}),(0,r.jsx)(l.A,{variant:"subtitle1",color:u||"textSecondary",align:"center",className:"countup-number__label",...y,children:c})]})})}},57687:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>em});var r=s(37876),n=s(19055),a=s(62034),i=s(80888),l=s(9982),o=s(17159),c=s(71948),d=s(7579),u=s(56222),x=s(84812),h=s(87156),m=s.n(h),p=s(77328),g=s.n(p),j=s(89099),y=s(14232),A=s(48011),b=s(54343),v=s(4985),f=s(15535),w=s(41316),_=s(92003),C=s(14729),S=s(60595),k=s(19330),B=s(38374),P=s(58213),N=s(80429);function R(e){let t=(0,A.d4)(e=>e.user.plan),s=e.user,n=s.metrics,i=e.user.metrics&&e.user.metrics.views?e.user.metrics.views:0;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsxs)(w.Ay,{item:!0,sm:4,xs:12,children:[(0,r.jsx)(N.Link,{to:"/users/".concat(s._id),children:(0,r.jsx)(a.A,{component:"img",sx:{position:"relative",width:"60%",backgroundPosition:"50% 10%",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover",objectPosition:"50% 10%",marginBottom:"20px",borderRadius:"5px"},src:s.picture||"https://static.onecompiler.com/images/blank-profile.png"})}),(0,r.jsx)(_.A,{variant:"h5",gutterBottom:!0,children:s.name}),e.myaccountView&&t&&(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Plan: ".concat(t," \uD83D\uDE80")}),(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:["Joined ",(0,P.A)(new Date(s.created),{max:1,suffix:!0})]}),s.lastSeen&&(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:["Last active ",(0,P.A)(new Date(s.lastSeen),{max:1,suffix:!0})]}),s&&s.metrics&&s.metrics.views&&s.metrics.views>1&&(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:[i," profile views"]})]}),(0,r.jsxs)(w.Ay,{item:!0,sm:8,xs:12,children:[(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Contributions"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(w.Ay,{container:!0,justifyContent:"space-between",spacing:0,children:(0,r.jsx)(w.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,r.jsx)(B.cN,{end:n&&n.code?n.code:0,suffix:" ",label:"Codes",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.post?n.post:0,suffix:" ",label:"Posts",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.question?n.question:0,suffix:" ",label:"Questions",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.answer?n.answer:0,suffix:" ",label:"Answers",textColor:"primary",labelColor:"textPrimary"})]})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"About"}),(0,r.jsx)(d.A,{}),(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"".concat(s.about||"User hasn’t shared anything yet.")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Orgs & Teams"}),(0,r.jsx)(d.A,{}),0===s.orgs.length&&0===s.teams.length&&(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"User hasn’t joined any orgs/ teams."}),s.orgs&&s.orgs.length>0&&s.orgs.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,r.jsxs)(a.A,{sx:e=>({marginTop:e.spacing(.4),display:"flex"}),children:[(0,r.jsx)(C.A,{alt:e.title,src:"https://res.cloudinary.com/onecompiler/image/upload/v1600366178/public/icons/university-svgrepo-com_oy3vov.svg",sx:e=>({width:e.spacing(2),height:e.spacing(2),marginRight:e.spacing(.2)})}),(0,r.jsx)(_.A,{variant:"caption",gutterBottom:!0,color:"textSecondary",children:"".concat(e.title)})]},e._id)}),(e.teams||[]).map(t=>(0,r.jsx)("div",{children:(0,r.jsx)(N.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link,"/teams/").concat(t._id,"/").concat(t.link),children:(0,r.jsxs)(a.A,{sx:e=>({marginTop:e.spacing(.4),display:"flex"}),children:[(0,r.jsx)(C.A,{alt:t.title,src:"https://res.cloudinary.com/onecompiler/image/upload/c_scale,w_94/v1604170066/public/icons/team_ncbovz.png",sx:e=>({width:e.spacing(2),height:e.spacing(2),marginRight:e.spacing(.2)})}),(0,r.jsx)(_.A,{variant:"caption",gutterBottom:!0,color:"textSecondary",children:"".concat(t.title)})]},t._id)})},t._id)),(0,r.jsx)("br",{})]},e._id))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Challenges"}),(0,r.jsx)(d.A,{}),(!s.challenges||0===s.challenges.length)&&(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"User hasn’t attempted any challenges."}),s.challenges&&s.challenges.length>0&&(0,r.jsx)(a.A,{mt:1,children:(0,r.jsx)(w.Ay,{container:!0,spacing:3,children:s.challenges.map(e=>(0,r.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(S.A,{className:"oc-card2",elevation:0,children:(0,r.jsx)(N.Link,{route:"/challenges/".concat(e.challenge._id,"/").concat(e.challenge.link),children:(0,r.jsxs)(a.A,{pt:1,children:[(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",children:e.challenge.title}),(0,r.jsxs)(a.A,{display:"flex",alignItems:"center",children:[(0,r.jsx)(k.Ay,{disabled:!0,sx:{height:4,"& .MuiSlider-rail":{borderRadius:10,height:4,backgroundColor:"rgb(202,211,216)"},"& .MuiSlider-track":{borderRadius:10,height:4,backgroundColor:"rgb(117,156,250)"},"& .MuiSlider-thumb":{display:"none"}},defaultValue:e.score/e.totalScore*100}),(0,r.jsxs)(a.A,{component:"span",sx:e=>({marginLeft:"8px",fontSize:"14px",color:e.palette.grey[500]}),children:[e.score,"/",e.totalScore]})]})]})})},e._id)},e._id))})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Deployments"}),(0,r.jsx)(d.A,{}),(!s.deployments||0===s.deployments.length)&&(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"User hasn't created any deployments."}),s.deployments&&s.deployments.length>0&&(0,r.jsx)(a.A,{children:(0,r.jsx)(w.Ay,{container:!0,spacing:2,children:s.deployments.map(e=>(0,r.jsx)(w.Ay,{item:!0,xs:12,children:(0,r.jsx)(S.A,{className:"oc-card2",elevation:0,children:(0,r.jsx)("a",{href:"https://".concat(e.slug,".oneapp.dev"),target:"_blank",rel:"nofollow noreferrer",style:{textDecoration:"none",color:"inherit"},children:(0,r.jsxs)(a.A,{pt:1,children:[(0,r.jsx)(_.A,{variant:"subtitle2",gutterBottom:!0,children:e.title}),(0,r.jsx)(_.A,{variant:"body2",color:"textSecondary",children:e.description||"No description provided"})]})})})},e._id))})})]})]})]})})}var T=s(95389),q=s(1912),I=s(71918),L=s(64266),D=s(4728),U=s(43496),O=s(71733),z=s(44725),E=s(50223),M=s(39091);let F=e=>{(0,j.useRouter)();let[t,s]=(0,y.useState)({}),n=(0,A.d4)(e=>e.user.token),[i,l]=(0,y.useState)(!1);async function o(){s({...await (0,b.Jt)("/api/users/me",n)})}async function c(t){let r=await (0,b.yJ)("/api/users/",n,t);if(!0===r.success)s({...r}),e.reset();else throw Error(r.message||r.error||"Something went wrong")}(0,y.useEffect)(()=>{o()},[]);let d=()=>l(!i);return(0,r.jsxs)(a.A,{sx:e=>({flexGrow:1,border:"1px solid #dadce0",marginBottom:"20px",padding:e.spacing(2)}),children:[(0,r.jsx)("br",{}),t.name&&(0,r.jsx)(E.l1,{enableReinitialize:!0,initialValues:{name:t.name,email:t.email,hidePicture:t.hidePicture,about:t.about},validationSchema:M.Ik().shape({name:M.Yj().min(3).max(50).required("Name is required")}),onSubmit:async(e,t)=>{let{resetForm:s,setErrors:r,setStatus:n,setSubmitting:a}=t;try{await c(e),n({success:!0}),d()}catch(e){n({success:!1}),r({submit:e.message})}finally{a(!1)}},children:e=>{let{errors:s,handleBlur:n,handleChange:i,handleSubmit:l,isSubmitting:o,touched:c,values:d}=e;return(0,r.jsxs)("form",{onSubmit:l,children:[(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsx)(w.Ay,{item:!0,md:4,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Link,{to:"/users/".concat(t._id),children:(0,r.jsx)(a.A,{component:"img",alt:"",src:t.picture||"https://static.onecompiler.com/images/blank-profile.png",sx:{position:"relative",width:"60%",backgroundPosition:"50% 10%",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover",objectPosition:"50% 10%",marginBottom:"20px",borderRadius:"5px"}})}),(0,r.jsx)(_.A,{sx:e=>({marginLeft:e.spacing(1)}),variant:"h6",gutterBottom:!0,children:t.name})]})}),(0,r.jsx)(w.Ay,{item:!0,md:8,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(q.A,{error:!!(c.name&&s.name),fullWidth:!0,helperText:c.name&&s.name,label:"User name",name:"name",onBlur:n,onChange:i,required:!0,value:d.name,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(q.A,{error:!!(c.email&&s.email),fullWidth:!0,helperText:c.email&&s.email,label:"Email",name:"email",required:!0,value:d.email,variant:"outlined",disabled:!0}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(q.A,{error:!!(c.about&&s.about),fullWidth:!0,helperText:c.about&&s.about,label:"About me",name:"about",onBlur:n,onChange:i,value:d.about||"",variant:"outlined",multiline:!0,rows:"4",maxRows:"20"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(L.A,{name:"hidePicture",checked:d.hidePicture,onChange:i,value:d.hidePicture,color:"primary"}),label:"Hide Picture"})]})})]}),s.submit&&(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(D.A,{error:!0,children:s.submit})}),(0,r.jsx)(a.A,{p:2,display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"primary",disabled:o,type:"submit",variant:"contained",children:"Save"})})]})}}),(0,r.jsx)(U.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i,autoHideDuration:6e3,onClose:d,message:(0,r.jsx)("span",{id:"message-id",children:"Saved!"}),action:[(0,r.jsx)(O.A,{"aria-label":"Close",color:"inherit",onClick:d,size:"large",children:(0,r.jsx)(z.A,{})},"close")]})]})};var W=s(76790),G=s(25128);let J=(0,A.Ng)(e=>({userObj:e.user}),{userLogout:G.Ub})(e=>{(0,j.useRouter)();let t=(0,A.d4)(e=>e.user.token),[s,n]=(0,y.useState)(!1),[i,l]=(0,y.useState)(null),[o,c]=(0,y.useState)(!1),[u,h]=(0,y.useState)(""),[m,p]=(0,y.useState)(!1),g=(0,A.wA)(),v=e.user.orgs?e.user.orgs.map(e=>e.title):[];async function f(e){l((await (0,b.bE)("/api/users/email/updatePassword",t,e)).message),n(!0)}async function C(){if(m){if(!u){l("Please enter OTP"),n(!0);return}let{json:s}=await (0,b.RA)("/api/users/deleteUser",t,{_id:e.user._id,otp:u});l(s.message),n(!0),"success"===s.status&&(g((0,G.Ub)()),N.Router.pushRoute("/"))}else l((await (0,b.Jt)("/api/users/generateOTP/".concat(e.user._id),t)).message),n(!0),p(!0)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Change Password"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(E.l1,{enableReinitialize:!0,initialValues:{oldPassword:"",newPassword:""},validationSchema:M.Ik().shape({newPassword:M.Yj().min(8).required("New password is required")}),onSubmit:async(e,t)=>{let{resetForm:s,setErrors:r,setStatus:n,setSubmitting:a}=t;try{f(e),n({success:!0})}catch(e){n({success:!1}),r({submit:e.message})}finally{a(!1),s()}},children:e=>{let{errors:t,handleBlur:s,handleChange:n,handleSubmit:i,isSubmitting:l,touched:o,values:c}=e;return(0,r.jsxs)("form",{onSubmit:i,children:[(0,r.jsx)(w.Ay,{container:!0,spacing:0,children:(0,r.jsx)(w.Ay,{item:!0,md:8,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(q.A,{error:!!(o.oldPassword&&t.oldPassword),fullWidth:!0,helperText:o.oldPassword&&t.oldPassword,label:"Old password",name:"oldPassword",onBlur:s,onChange:n,type:"password",value:c.oldPassword,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(q.A,{error:!!(o.newPassword&&t.newPassword),fullWidth:!0,helperText:o.newPassword&&t.newPassword,label:"New password",name:"newPassword",onBlur:s,onChange:n,type:"password",required:!0,value:c.newPassword,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:[" ","Note: If you connected with Google/ Facebook, keep old password as blank"," "]})]})})}),t.submit&&(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(D.A,{error:!0,children:t.submit})}),(0,r.jsx)(a.A,{sx:{marginTop:e=>e.spacing(2)},display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"primary",disabled:l,type:"submit",variant:"contained",children:"Save"})})]})}}),(0,r.jsx)(b.UX,{data:{toggleMessage:i,snakbarOpen:s,setSnakbarOpen:n}})]}),(0,r.jsxs)(a.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Manage My Subscriptions"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(x.A,{color:"primary",variant:"outlined",onClick:()=>N.Router.pushRoute("/subscriptions"),children:"Manage Subscriptions"})]}),(0,r.jsxs)(a.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Delete My Account"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{gutterBottom:!0,children:"Once you delete your account, it's irreversible! To delete your account you shouldn't be part of any organization."}),0!=v.length&&(0,r.jsxs)(_.A,{gutterBottom:!0,children:["Currently you are part of ",v.join(", ")," organizations"]}),(0,r.jsx)(W.A,{children:(0,r.jsx)(I.A,{control:(0,r.jsx)(L.A,{checked:o,onChange:e=>c(e.target.checked),inputProps:{"aria-label":"controlled"},disabled:0!==v.length}),label:"I have understood the implications of deleting my profile and wish to proceed with the deletion"})}),m&&(0,r.jsx)(w.Ay,{container:!0,spacing:0,children:(0,r.jsxs)(w.Ay,{item:!0,md:8,xs:12,children:[(0,r.jsx)("br",{}),(0,r.jsx)(q.A,{fullWidth:!0,label:"OTP (Received on your registered email)",name:"otp",variant:"outlined",onChange:e=>h(e.target.value),value:u}),(0,r.jsx)("br",{})]})}),(0,r.jsx)(a.A,{sx:{marginTop:e=>e.spacing(2)},display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"secondary",disabled:!o||m&&(!u||u.length<6),type:"submit",variant:"contained",onClick:C,children:m?"Confirm Delete":"Delete My Account"})})]})]})}),V=e=>{(0,j.useRouter)();let[t,s]=(0,y.useState)({}),[n,a]=(0,y.useState)(0),i=(0,A.d4)(e=>e.user.token);async function l(){s({...await (0,b.Jt)("/api/users/me",i)})}return(0,y.useEffect)(()=>{l()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsx)(w.Ay,{item:!0,xs:12,md:2,children:(0,r.jsx)(w.Ay,{item:!0,xs:12,md:2,children:(0,r.jsxs)(w.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(w.Ay,{item:!0,onClick:()=>a(0),children:(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,color:"textSecondary",sx:e=>({cursor:"pointer",borderBottom:0===n?"2px solid ".concat(e.palette.secondary.main):"none"}),children:"General"})}),(0,r.jsx)(w.Ay,{item:!0,onClick:()=>a(1),children:(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,color:"textSecondary",sx:e=>({cursor:"pointer",borderBottom:1===n?"2px solid ".concat(e.palette.secondary.main):"none"}),children:"Account"})})]})})}),(0,r.jsx)(w.Ay,{item:!0,xs:12,md:1,children:(0,r.jsx)(d.A,{orientation:"vertical",variant:"middle",style:{margin:"auto"}})}),(0,r.jsx)(w.Ay,{item:!0,xs:12,md:9,children:(0,r.jsx)(S.A,{elevation:0,children:(0,r.jsxs)(T.A,{children:[0===n&&(0,r.jsx)(F,{...e}),1===n&&(0,r.jsx)(J,{user:t})]})})})]})})};var H=s(14924),Y=s(44365),X=s(18847),Q=s.n(X),K=s(96727);let Z=Q()(()=>Promise.all([s.e(8285),s.e(1352)]).then(s.bind(s,21352)),{loadableGenerated:{webpack:()=>[21352]},ssr:!1}),$=y.memo(e=>{let{title:t,data:s,displayName:n,chartOptions:a}=e,i=s.reduce((e,t)=>e+t.y,0);return(0,r.jsx)(w.Ay,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,r.jsxs)(H.A,{className:"oc-card",elevation:0,sx:{paddingTop:"15px",marginLeft:"20px",marginBottom:"30px",marginRight:"20px"},children:[(0,r.jsxs)(_.A,{variant:"h5",color:"primary",gutterBottom:!0,align:"center",children:[t," (Total: ",i,")"]}),(0,r.jsx)(Z,{options:a,series:[{name:n,data:s||[]}],type:"bar",height:"300"},t)]})})}),ee={"30D":30,"3M":90,"1Y":365},et=()=>{let e=(0,K.M)(),t=(0,A.d4)(e=>e.user.token),[s,n]=(0,y.useState)("30D"),[i,l]=(0,y.useState)(null),[o,c]=(0,y.useState)({ai:[],vibecode:[],imageGeneration:[],studio:[]});(0,y.useEffect)(()=>{d()},[]),(0,y.useEffect)(()=>{i&&p()},[i,s]);let d=async()=>{l(await (0,b.Jt)("/api/users/usage",t))},h=e=>{let t=new Date;return t.setDate(t.getDate()-e),t},m=e=>{let t=new Date(e);return t.setUTCHours(0,0,0,0),t},p=()=>{let e=m(h(ee[s])),t=new Date;t.setUTCHours(23,59,59,999);let r=(s,r)=>{if(!s||0===Object.keys(s).length)return[];let n=new Map,{_id:a,...i}=s;Object.entries(i).forEach(e=>{let[t,s]=e,r=parseInt(t.substring(0,4)),a=Date.UTC(r,parseInt(t.substring(4,6))-1,parseInt(t.substring(6,8)));n.set(a,s)});let l=[];for(let s=e.getTime();s<=t.getTime();s+=864e5){let e=n.get(s)||0,t=r?r(e):e;l.push({x:s,y:t})}return l};c({ai:r(i.ai),vibecode:r(i.vibecode),imageGeneration:r(i.imageGeneration),studio:r(i.studio,e=>Math.round(e/60))})},g=m(h(ee[s])),j=new Date;j.setUTCHours(23,59,59,999);let v={xaxis:{type:"datetime",min:g.getTime(),max:j.getTime(),labels:{datetimeUTC:!1},tickAmount:12},chart:{toolbar:{show:!0},zoom:{enabled:!1},id:"usage-chart-".concat(s)},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,dataLabels:{position:"top"},columnWidth:"90%"}},dataLabels:{enabled:!1},theme:{mode:"dark"===e.theme?"dark":"light"},tooltip:{x:{format:"dd MMM yyyy"}}};return(0,r.jsx)(u.A,{component:"main",maxWidth:"lg",children:(0,r.jsxs)(a.A,{mt:3,children:[(0,r.jsx)(w.Ay,{container:!0,spacing:0,justifyContent:"flex-end",children:(0,r.jsx)(Y.A,{color:"primary","aria-label":"outlined primary button group",style:{paddingRight:18},children:Object.keys(ee).map(e=>(0,r.jsx)(x.A,{onClick:()=>n(e),sx:{backgroundColor:s===e?"#dcdffc":"transparent",color:s===e?"#5063f0":"inherit","&:hover":{backgroundColor:"#dcdffc"}},children:e},e))})}),(0,r.jsx)("br",{}),i&&(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsx)($,{title:"AI Usage",data:o.ai,displayName:"AI Requests",chartOptions:v}),(0,r.jsx)($,{title:"Studio Usage",data:o.studio,displayName:"Minutes Used",chartOptions:v}),(0,r.jsx)($,{title:"VibeCode Usage",data:o.vibecode,displayName:"VibeCode Requests",chartOptions:v}),(0,r.jsx)($,{title:"Image Generation Usage",data:o.imageGeneration,displayName:"Images Generated",chartOptions:v})]}),!i&&(0,r.jsx)(_.A,{variant:"body1",align:"center",children:"Loading usage data..."})]})})};var es=s(46425),er=s(75774),en=s(37161),ea=s(8085),ei=s(58836),el=s(56952),eo=s(40532);let ec=e=>{let[t,s]=(0,y.useState)([]),n=(0,A.d4)(e=>e.user.token);async function a(){let e=await (0,b.Jt)("/api/users/getAPIsData",n);e&&e.length>0&&s([...e])}return(0,y.useEffect)(()=>{a()},[]),(0,r.jsxs)(r.Fragment,{children:[t&&t.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"API Quotas"}),(0,r.jsx)(ei.A,{children:(0,r.jsxs)(er.A,{"aria-label":"simple table",children:[(0,r.jsx)(el.A,{children:(0,r.jsxs)(eo.A,{style:{borderBottom:"1.8px solid rgba(224, 224, 224, 1)"},children:[(0,r.jsx)(ea.A,{children:"_id"}),(0,r.jsx)(ea.A,{children:"Name"}),(0,r.jsx)(ea.A,{children:"Last accessed"}),(0,r.jsx)(ea.A,{children:"Remaining Limit"}),(0,r.jsx)(ea.A,{children:"Usage Metrics"})]})}),(0,r.jsx)(en.A,{children:t.map(e=>(0,r.jsxs)(eo.A,{style:{borderBottom:"1.2px solid rgba(224, 224, 224, 1)"},children:[(0,r.jsxs)(ea.A,{children:[" ",e._id," "]}),(0,r.jsxs)(ea.A,{children:[" ",e.name," "]}),(0,r.jsxs)(ea.A,{children:[" ",e.lastAccessed?"".concat((0,P.A)(new Date(e.lastAccessed))," ago"):""," "]}),(0,r.jsxs)(ea.A,{children:[" ",e.limitRemaining," / ",e.limit," "]}),(0,r.jsxs)(ea.A,{children:[" ",(0,r.jsx)(b.Pp,{count:0,id:e._id,hideCount:!0})," "]})]},e._id))})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Reports"})," ",(0,r.jsx)("br",{}),(0,r.jsx)(N.Link,{to:"/reports/challenges/summary",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(_.A,{component:"span",style:{fontWeight:"bold"},variant:"subtitle1",color:"primary",children:"Challenges Summary Report"}),(0,r.jsx)(O.A,{color:"primary",size:"large",children:(0,r.jsx)(es.A,{className:"learn-more-link__arrow"})})]})})]})]}),(!t||0===t.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"You do not have any API subscriptions yet!"}),(0,r.jsxs)(_.A,{variant:"body1",gutterBottom:!0,children:["Please check more details on APIs here - ",(0,r.jsx)("a",{href:"/apis",children:" /apis "})]})]})]})};var ed=s(18702);let eu=[{value:"profile",label:"Profile"},{value:"codes",label:"Codes"},{value:"posts",label:"Posts",hide:!0},{value:"q&a",label:"Q&A",hide:!0},{value:"challenges",label:"Challenges"}],ex=[...eu,{value:"settings",label:"Settings"},{value:"usage",label:"Usage"},{value:"apis",label:"APIs"}],eh=()=>{let e=(0,j.useRouter)(),t=e.query.tabName?e.query.tabName:"profile",s=(0,A.d4)(e=>e.user._id),h=(0,A.d4)(e=>e.user.token),[p,w]=(0,y.useState)({}),[_,C]=(0,y.useState)(s!==e.query.id?eu:ex),[S,k]=(0,y.useState)(s===e.query.id),[B,P]=(0,y.useState)(t),[T,q]=(0,y.useState)(!1);async function I(){await L(),C(s!==e.query.id?eu:ex)}async function L(){let t=await (0,b.Jt)("/api/users/".concat(e.query.id),h);"failed"===t.status&&q(!0),w(t)}return(0,y.useEffect)(()=>{I()},[e.query.id]),(0,y.useEffect)(()=>{let t=!1;for(let e of _)e.value===B&&(t=!0);t&&e.query.tabName||(P("profile"),N.Router.pushRoute("/users/".concat(e.query.id)))},[_]),(0,y.useEffect)(()=>{P(e.query.tabName||"profile")},[e.query.tabName]),(0,r.jsxs)(n.A,{children:[(0,r.jsx)(g(),{children:(0,r.jsx)("title",{children:"".concat(p.name||""," - OneCompiler")})}),T&&(0,r.jsx)(m(),{statusCode:404}),(0,r.jsxs)("div",{style:{flexGrow:1},children:[(0,r.jsx)(f.A,{}),null!=p&&null!=p.name&&(0,r.jsx)(a.A,{sx:{marginLeft:e=>e.spacing(2)},children:(0,r.jsxs)(i.A,{children:[(0,r.jsx)(l.A,{color:"inherit",href:"/users/".concat(e.query.id),children:p.name}),(0,r.jsx)(l.A,{color:"textPrimary",href:"/users/".concat(e.query.id,"/").concat(t),"aria-current":"page",children:t})]})}),null!=p&&null!=p.name&&(0,r.jsx)(o.A,{variant:"scrollable",scrollButtons:"auto",value:B,onChange:(t,s)=>{P(s),N.Router.pushRoute("profile"===s?"/users/".concat(e.query.id):"/users/".concat(e.query.id,"/").concat(s),{shallow:!0})},children:_.filter(e=>!e.hide).map(e=>(0,r.jsx)(c.A,{label:"".concat(e.label),value:e.value},e.value))}),(0,r.jsx)(d.A,{}),null!=p&&null!=p.name&&(0,r.jsxs)(r.Fragment,{children:["profile"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(R,{user:p,myaccountView:S})})}),"codes"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(ed.A,{type:"code",path:"",user:p})})}),"posts"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(a.A,{mt:3,children:[S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/posts/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(ed.A,{type:"post",path:"posts",user:p})]})}),"q&a"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(a.A,{mt:3,children:[S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/questions/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(ed.A,{type:"question",path:"questions",user:p})]})}),"challenges"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(a.A,{mt:3,children:[S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/challenges/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(ed.A,{type:"challenge",path:"challenges",user:p})]})}),"settings"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(V,{user:p,reset:L})})}),"usage"===B&&(0,r.jsx)(et,{}),"apis"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(a.A,{mt:3,children:(0,r.jsx)(ec,{user:p,reset:L})})})]}),(0,r.jsx)(v.A,{})]})]})};eh.getInitialProps=async e=>({foo:"temp fix for missing query"});let em=eh},73390:(e,t,s)=>{"use strict";s.d(t,{In:()=>l,_V:()=>n,oJ:()=>u});var r=s(37876);let n=e=>{let{src:t,srcSet:s,alt:n="...",lazy:a=!0,lazyProps:i={width:"auto",height:"auto"},style:l={},...o}=e;return(0,r.jsx)("img",{style:{...l,width:"100%",height:"100%"},alt:n,src:t,srcSet:s,...o})};var a=s(19055),i=s(49995);let l=e=>{let{fontIconClass:t,size:s="small",fontIconColor:n,className:l,...o}=e;return(0,r.jsx)(a.A,{children:(0,r.jsx)("i",{className:(0,i.A)("icon",t,l),style:{color:n,...{extraSmall:{fontSize:"10px"},small:{fontSize:"20px"},medium:{fontSize:"30px"},large:{fontSize:"40px"}}[s]},...o})})};var o=s(46425),c=s(92003),d=s(71733);let u=e=>{let{component:t="a",variant:s="subtitle1",title:n,href:a="#",typographyProps:i={},...l}=e,u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{component:"span",style:{fontWeight:"bold"},variant:s,color:"primary",...i,children:n}),(0,r.jsx)(d.A,{sx:{padding:0,marginLeft:e=>e.spacing(1),"&:hover":{background:"transparent"}},color:"primary",size:"large",children:(0,r.jsx)(o.A,{})})]});return(0,r.jsx)("a",{href:a,style:{display:"inline-flex",alignItems:"center",textDecoration:"none"},...l,children:u})}},82144:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return s(57687)}])}},e=>{e.O(0,[2333,4505,8867,4137,1368,2782,1912,7490,3354,336,3972,1106,9331,3309,5289,1062,3356,1090,5197,445,6138,794,223,9091,3466,5535,5768,636,6593,8792],()=>e(e.s=82144)),_N_E=e.O()}]);